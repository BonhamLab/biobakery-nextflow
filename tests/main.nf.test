nextflow_pipeline {

    name "Test Workflow main.nf"
    script "main.nf"

    test("Should run without failures") {

        when {
            params {
                load("tuftshpc-params.yaml")
            }
        }

        then {
	    // make sure pipeline successfully ran
            assert workflow.success
	    //returns a list containing succeeded tasks, verify that it is 5
	    assert workflow.trace.succeeded().size() == 5
        }

    }

}
