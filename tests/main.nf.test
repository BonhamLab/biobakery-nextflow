nextflow_pipeline {

    name "Test Workflow main.nf"
    script "main.nf"

    test("Should run without failures") {

        when {
            params {
                load("tuftshpc-params.yaml")
            }
        }

        then {
	    // make sure pipeline successfully ran and all four processes succeeded
        def succeeded = workflow.trace.succeeded()
	    assert succeeded.size() == 4
    
        }
    }

}
